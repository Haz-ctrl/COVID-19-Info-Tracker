<!-- global.html -->
<!-- Hashim I. -->

<!DOCTYPE html>
<html>

    <!-- Note: Linking to multiple stylesheets is possible, allowing for multiple applications of style rules -->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" type="image/x-icon" href="./favicon.png" />
        <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="./global.css">
        <title>COVID-19 Statistics</title>
    </head>

    <body>

        <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="global.html">Global<img style="margin-left: 10px;" height="30px" width="30px" src="globe.png"></a>
            <a href="countries.html">Countries<img style="margin-left: 10px;" height="35px" width="30px" src="country.png"></a>
            <a href="map.html">Map<img style="margin-left: 10px;" height="35px" width="30px" src="pin.png"></a>
            <a href="sir.html">SIR<img style="margin-left: 10px;" height="30px" width="30px" src="graph.png"></a>
            <a href="resources.html">Resources<img style="margin-left: 10px;" height="30px" width="30px" src="folder.png"></a>
          </div>
          
        <button id="menu" onclick="openNav()"><img class="navImage" height="50px" width="50px" src="sidenav.png"></button>

        <div class="title">
        <h1>COVID-19 Global Page</h1>
        <br>
        <span id="today" style="font-size: 15px; color: turquoise;"></span>
        </div>

        <br><br>
        <br><br>

        <div class="firstHalf">
            <canvas id="globalChart"></canvas>
        </div>


        <div class="secondHalf">
        <div class="stats">

            <h2>Global Cases</h2>
            <p id="TotalConfirmed"></p>

            <h2>Global Deaths</h2>
            <p id="TotalDeaths"></p>
 
            <h2>Global Recoveries</h2>
            <p id="TotalRecovered"></p>

            <h2>Mortality Rate (%)</h2>
            <p id="MortalityRate"> </p>

            <h2>Active Cases</h2>
            <p id="ActiveCases"></p>

        </div>
        </div>

        <br><br>

        <div class="update">
            <p>This data was last updated on: <span id="UpdateDate"></span> at <span id="UpdateTime"></span></p>
        </div>

        <br><br>
        <br><br>
 

        <button onclick="window.location.reload()" class="btn btn-outline-warning btn-block">Refresh</button>
    
    </body>

    <br><br>
    <br><br>


    <footer class="footer">
        <p>Built by Hashim I.</p>
    </footer>

    <!-- Personal preference for me to have script outside of the <head> tags at the very end of the code-->
    <script src='global.js'></script>

    <!-- IMPORTANT: npm didn't work for installation. No idea why. Link works as substitute. Investigate later. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
    <script>

        //Runs the global stats function
        getGlobalStats();

        //Date() is a function which fetches the current date and time, this then gets written to a variable and id. 
        const dt = new Date();
        document.getElementById("today").innerHTML = dt;

    </script>

</html>